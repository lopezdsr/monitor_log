---

copyright:
  years: 2015, 2017

lastupdated: "2017-03-13"

---


{:shortdesc: .shortdesc}
{:new_window: target="_blank"}
{:codeblock: .codeblock}
{:screen: .screen}

# Kibana でのログのフィルタリング
{:#kibana_filtering_logs}

「Discover」ページでは、検索照会を作成し、フィルターを適用して、分析で表示される情報を制約できます。
{:shortdesc}

* 「Discover」ページの検索バーで 1 つ以上の検索照会を定義できます。検索照会により、ログ項目のサブセットを定義します。検索照会の定義には、Lucene 照会言語を使用します。 

* *フィールド・リスト* または表の項目からフィルターを追加できます。フィルターは、情報の包含または除外によって、データ選択を詳細化します。フィルターの有効化または無効化、フィルター・アクションの反転、フィルターのオンまたはオフへの切り替え、フィルターの完全削除を行うことができます。 

新規検索を定義した後に、これを保存し、「Discover」ページで後に分析を行ったり、カスタム・ダッシュボードで使用できる視覚化を作成するために再使用できます。詳しくは、『[検索の保存](logging_kibana_filtering_logs.html#k4_save_search)』を参照してください。

新規検索を実行すると、ヒストグラム、表、およびフィールド・リストが自動的に更新され、検索結果が表示されます。どのようなデータが表示されているのかを判別するには、『[「Discover」ページで表示されているデータの識別](k4_identify_data.html#k4_identify_data)』を参照してください。

以下のリストでは、ログ内のデータをフィルタリングする方法を示すシナリオの概要を示します。

* ログをフィルタリングするカスタム検索を作成できます。詳しくは、『[カスタム検索照会の定義によるログのフィルタリング](k4_filter_queries.html#k4_filter_queries)』を参照してください。

* フィールドの値に特定のテキストが含まれている項目をログで検索できます。詳しくは、『[フィールド値に特定のテキストが含まれたログのフィルタリング](k4_filter_logs_spec_text.html#k4_filter_logs_spec_text)』を参照してください。
 
* ログで特定のフィールド値を検索したり、特定のフィールド値が含まれた項目をログから除外したりすることができます。詳しくは、『[特定のフィールド値が含まれたログのフィルタリング](k4_filter_logs_spec_field.html#k4_filter_logs_spec_field)』を参照してください。

    * ログ・タイプによってログをフィルタリングできます。詳しくは、『[ログ・タイプによるログのフィルタリング](k4_filter_logs_by_log_type.html#k4_filter_logs_by_log_type)』を参照してください。
    * ソースによって CF アプリ・ログをフィルタリングできます。詳しくは、『[ソースによる CF アプリ・ログのフィルタリング](k4_filter_logs_by_source.html#k4_filter_logs_by_source)』を参照してください。
    * インスタンス ID によってログをフィルタリングできます。詳しくは、『[インスタンス ID によるログのフィルタリング](k4_filter_logs_by_instance_id.html#k4_filter_logs_by_instance_id)』を参照してください。   
    * メッセージ・タイプによってログをフィルタリングできます。詳しくは、『[メッセージ・タイプによるログのフィルタリング](k4_filter_cf_logs_by_msg_type.html#k4_filter_cf_logs_by_msg_type)』を参照してください。  
 
* 特定の期間内の項目を表示するようにログをフィルタリングできます。詳しくは、『[時間フィルターの設定](logging_kibana_set_time_filter.html#set_time_filter)』を参照してください。
     

## 新規検索の開始
{: #k4_new_search}

新規検索を開始するには、「Discover」ページのツールバーにある**「New Search」**ボタン ![新規検索](images/k4_new_search_icon.jpg "新規検索")をクリックします。

## 検索の保存 
{: #k4_save_search}

検索を保存すると、検索照会ストリングおよび現在選択されている索引パターンが保存されます。

「Discovery」ページで現在の検索を保存するには、以下のステップを実行します。

1. 「Discover」ページのツールバーにある**「Save Search」**ボタン ![検索の保存](images/k4_save_search_icon.jpg "検索の保存") をクリックします。

2. 検索の名前を入力します。

3. 「保存」をクリックします。 

## 検索の削除
{: #k4_delete_search}

検索を削除するには、「Settings」ページで以下のステップを実行します。

1. 「Settings」ページで**「Objects」**タブを選択します。

2. **「Searches」**タブで、削除する検索を選択します。

3. **「削除」**をクリックします。


## 検索のエクスポート
{: #k4_export_search}

検索をエクスポートするには、「Settings」ページで以下のステップを実行します。

1. 「Settings」ページで**「Objects」**タブを選択します。

2. **「Searches」**タブで、エクスポートする検索を選択します。

3. **「エクスポート」**をクリックします。

4. ファイルを保存します。

## 検索のインポート
{: #k4_import_search}

検索をインポートするには、「Settings」ページで以下のステップを実行します。

1. 「Settings」ページで**「Objects」**タブを選択します。

2. **「Searches」**タブで**「Import」**を選択します。

3. ファイルを選択し、**「Open」**をクリックします。

検索が検索リストに追加されます。


## 検索の再ロード
{: #k4_reload_search}

保存済み検索をロードするには、以下のステップを実行します。

1. 「Discover」ページのツールバーにある**「Load Search」**ボタン ![検索のロード](images/k4_load_icon.jpg "検索のロード") をクリックします。

2. ロードする検索を選択します。 


## 検索のコンテンツの最新表示
{: #k4_refresh_search}

検索のコンテンツを手動で最新表示するために、検索バーで使用可能な拡大鏡をクリックできます。 

「Discover」ページで表示されるデータを自動的に最新表示する場合は、最新表示間隔を構成できます。最新表示間隔の現行値は、「Discover」ページのメニュー・バーに表示されます。デフォルトでは、自動最新表示は **OFF** に設定されます。

最新表示間隔を設定するには、以下のステップを実行します。

1. 「Discover」ページのメニュー・バーで使用可能な**「Time Filter」**をクリックします。

2. **「Auto Refresh」** ![自動最新表示](images/k4_auto_refresh_icon.jpg "自動最新表示") をクリックします。

3. リストから最新表示間隔を選択します。 

    ![最新表示間隔のオプション](images/k4_change_autorefresh.jpg "最新表示間隔のオプション")


**注**: 自動最新表示間隔を有効にした後には、一時停止ボタン ![一時停止](images/k4_auto_refresh_pause_icon.jpg "一時停止") をクリックすることで、自動最新表示を一時停止できます。




